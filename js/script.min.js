const properties=[{id:1,name:"Cozy Cottage",location:"Gisborne",price:"$200,000",bedrooms:2,bathrooms:2,image:"https://source.unsplash.com/category/house/?cozy+cottage",description:`Welcome to "Cozy Cottage" nestled in the serene locale of Gisborne, offering a tranquil escape from the hustle and bustle of urban life. Priced at a steal for $200,000, this charming abode boasts 2 snug bedrooms and 2 immaculate bathrooms, ensuring comfort and convenience for its lucky inhabitants.
    <br></br>Picture yourself unwinding in the cozy ambiance of this cottage, where every corner exudes warmth and relaxation. Whether you're curling up with a book by the fireplace or savoring a cup of tea on the quaint porch, each moment spent here promises to be nothing short of blissful.`},{id:2,name:"Modern Loft",location:"Bay Of Plenty",price:"$350,000",bedrooms:3,bathrooms:2.5,image:"https://source.unsplash.com/category/house/?modern+loft"},{id:3,name:"Seaside Villa",location:"Northland",price:"$1,000,000",bedrooms:4,bathrooms:3,image:"https://source.unsplash.com/category/house/?seaside+villa"},{id:4,name:"Rustic Cabin",location:"Marlborough",price:"$150,000",bedrooms:1,bathrooms:1,image:"https://source.unsplash.com/category/house/?rustic+cabin"},{id:5,name:"Urban Apartment",location:"Wellington",price:"$500,000",bedrooms:2,bathrooms:1.5,image:"https://source.unsplash.com/category/house/?urban+apartment"},{id:6,name:"Luxury Penthouse",location:"Nelson",price:"$2,200,000",bedrooms:4,bathrooms:3.5,image:"https://source.unsplash.com/category/house/?luxury+penthouse"},{id:7,name:"Beachfront Villa",location:"Bay Of Plenty",price:"$1,800,000",bedrooms:5,bathrooms:4,image:"https://source.unsplash.com/category/house/?beachfront+villa"},{id:8,name:"Countryside Estate",location:"Canterbury",price:"$1,600,000",bedrooms:6,bathrooms:5,image:"https://source.unsplash.com/category/house/?countryside+estate"},{id:9,name:"Downtown Condo",location:"Auckland",price:"$700,000",bedrooms:2,bathrooms:2,image:"https://source.unsplash.com/category/house/?downtown+condo"},{id:10,name:"Mountain Chalet",location:"Otago",price:"$900,000",bedrooms:3,bathrooms:2.5,image:"https://source.unsplash.com/category/house/?mountain+chalet"},{id:11,name:"Luxury Penthouse",location:"Nelson",price:"$2,200,000",bedrooms:4,bathrooms:3.5,image:"https://source.unsplash.com/category/house/?luxury+penthouse"},{id:12,name:"Beachfront Villa",location:"Bay Of Plenty",price:"$1,800,000",bedrooms:5,bathrooms:4,image:"https://source.unsplash.com/category/house/?beachfront+villa"},{id:13,name:"Countryside Estate",location:"Canterbury",price:"$1,600,000",bedrooms:6,bathrooms:5,image:"https://source.unsplash.com/category/house/?countryside+estate"},{id:14,name:"Downtown Condo",location:"Auckland",price:"$700,000",bedrooms:2,bathrooms:2,image:"https://source.unsplash.com/category/house/?downtown+condo"},{id:15,name:"Mountain Chalet",location:"Otago",price:"$900,000",bedrooms:3,bathrooms:2.5,image:"https://source.unsplash.com/category/house/?mountain+chalet"},{id:16,name:"Sunny Bungalow",location:"Hawkes Bay",price:"$280,000",bedrooms:3,bathrooms:2,image:"https://source.unsplash.com/category/house/?sunny+bungalow"},{id:17,name:"Oceanview Condo",location:"West Coast",price:"$420,000",bedrooms:2,bathrooms:1.5,image:"https://source.unsplash.com/category/house/?oceanview+condo"},{id:18,name:"Country Farmhouse",location:"Manawatu",price:"$550,000",bedrooms:4,bathrooms:3,image:"https://source.unsplash.com/category/house/?country+farmhouse"},{id:19,name:"City Penthouse",location:"Taranaki",price:"$1,200,000",bedrooms:3,bathrooms:2,image:"https://source.unsplash.com/category/house/?city+penthouse"},{id:20,name:"Lakeside Retreat",location:"Waikato",price:"$780,000",bedrooms:5,bathrooms:4,image:"https://source.unsplash.com/category/house/?lakeside+retreat"}],locationFilter=document.getElementById("location"),bedroomsFilter=document.getElementById("bedrooms"),bathroomsFilter=document.getElementById("bathrooms"),priceMin=document.getElementById("priceMin"),priceMax=document.getElementById("priceMax"),highToLowBtn=document.getElementById("price-high-to-low-btn"),lowToHighBtn=document.getElementById("price-low-to-high-btn"),alphabeticalBtn=document.getElementById("alphabetical-btn");function filterProperties(){return properties.filter(e=>{var o=e.location.toLowerCase(),t=locationFilter.value.toLowerCase();return!(t&&!o.includes(t)||bedroomsFilter.value&&parseInt(e.bedrooms)<=parseInt(bedroomsFilter.value)||bathroomsFilter.value&&parseFloat(e.bathrooms)<=parseFloat(bathroomsFilter.value)||(o=parseFloat(e.price.replace(/\$/g,"").replace(/,/g,"")),t=parseFloat(priceMin.value),e=parseFloat(priceMax.value),t&&o<t)||e&&e<o)})}function sortPropertiesByPriceLowToHigh(e){return e.sort((e,o)=>{return parseFloat(e.price.replace(/\$/g,"").replace(/,/g,""))-parseFloat(o.price.replace(/\$/g,"").replace(/,/g,""))})}function sortPropertiesByPriceHighToLow(e){return e.sort((e,o)=>{e=parseFloat(e.price.replace(/\$/g,"").replace(/,/g,""));return parseFloat(o.price.replace(/\$/g,"").replace(/,/g,""))-e})}function sortPropertiesAlphabetical(e){return e.sort((e,o)=>{e=e.name.toLowerCase(),o=o.name.toLowerCase();return e.localeCompare(o)})}function filterAndPopulateResults(){populateResults(filterProperties())}function populateResults(e){const o=document.getElementById("results");o.innerHTML="",0===e.length?o.innerHTML='<p class="no-results">No Results Found</p>':e.forEach(e=>{e=`
        <div class="property">
            <div class="swiper">
                <!-- Additional required wrapper -->
                <div class="swiper-wrapper">
                    <!-- Slides -->
                    <div class="swiper-slide"><img src="${e.image}" alt="${e.name} image 1" class="property-image" value=${e.id}></div>
                    <div class="swiper-slide"><img src="${e.image}" alt="${e.name} image 2" class="property-image" value=${e.id}></div>
                    <div class="swiper-slide"><img src="${e.image}" alt="${e.name} image 3" class="property-image" value=${e.id}></div>
                </div>
                <div class="swiper-pagination"></div>
            </div>
            <div class="property-details">
                <h2>${e.name}</h2>
                <p>${e.location}</p>
                <div class="more-details">
                    <div class="property-amenities">
                        <p>${e.bedrooms} <i class="fa-solid fa-bed"></i></p>
                        <p>${e.bathrooms} <i class="fa-solid fa-bath"></i></p>
                    </div>
                    <h4>${e.price}</h4>
                </div>
            </div>
        </div>
        `;o.innerHTML+=e,attachModalToImages(),document.querySelectorAll(".swiper").forEach(e=>{new Swiper(e,{direction:"vertical",loop:!0,pagination:{el:".swiper-pagination",clickable:!0}})})})}function attachModalToImages(){const i=document.getElementById("details-modal");document.querySelectorAll(".property-image").forEach((e,o)=>{e.addEventListener("click",function(e){var o=window.pageYOffset||document.documentElement.scrollTop,t=(i.dataset.scrollPosition=o,e.target.getBoundingClientRect()),t=t.top+o,a=window.innerHeight,r=i.offsetHeight;let s=o+(a-r)/2;s<t?s=t:s+r>a+o&&(s=a+o-r),i.style.top=s+"px",console.log("image click working"),i.showModal(),document.body.classList.add("modal-open"),closeDetailsModal(),console.log(e.target.getAttribute("value")),populateModal(e.target.getAttribute("value"))})})}function closeDetailsModal(){var e=document.getElementById("close-modal");const o=document.getElementById("details-modal");e.addEventListener("click",function(){o.close(),document.body.classList.remove("modal-open");var e=o.dataset.scrollPosition||0;window.scrollTo(0,e)})}function populateModal(e){document.querySelector(".modal-contents").innerHTML=`
<img src="${properties[e-1].image}" alt="${properties[e-1].name} image 1">
    <h2>${properties[e-1].name}</h2>
    <p>${properties[e-1].location}</p>
    <h4>${properties[e-1].price}</h4>
    <div class="modal-ammenities">
        <p>${properties[e-1].bedrooms} <i class="fa-solid fa-bed"></i></p>
        <p>${properties[e-1].bathrooms} <i class="fa-solid fa-bath"></i></p>
    </div>
    <p class="property-description">${properties[e-1].description}</p>
    <button class="booking-button">Enquire Now</button>
`}locationFilter.addEventListener("change",function(){console.dir(locationFilter.value),filterAndPopulateResults()}),bedroomsFilter.addEventListener("change",function(){console.dir(bedroomsFilter.value),filterAndPopulateResults()}),bathroomsFilter.addEventListener("change",function(){console.dir(bathroomsFilter.value),filterAndPopulateResults()}),priceMin.addEventListener("change",function(){console.dir(priceMin.value),filterAndPopulateResults()}),priceMax.addEventListener("change",function(){console.dir(priceMax.value),filterAndPopulateResults()}),highToLowBtn.addEventListener("click",function(){populateResults(sortPropertiesByPriceHighToLow(filterProperties()))}),lowToHighBtn.addEventListener("click",function(){populateResults(sortPropertiesByPriceLowToHigh(filterProperties()))}),alphabeticalBtn.addEventListener("click",function(){populateResults(sortPropertiesAlphabetical(filterProperties()))}),filterAndPopulateResults();const swiper=new Swiper(".swiper",{direction:"vertical",loop:!0,pagination:{el:".swiper-pagination",clickable:!0}});